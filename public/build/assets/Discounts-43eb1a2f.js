import{r as i,u as A,o as r,g as d,a as t,d as o,w as l,F as w,H as $,b as e,e as I,f as c,n as j,h as N,t as p,j as k,i as O}from"./app-b08cb953.js";import{_ as F}from"./BaseLayout-d17fc57f.js";import{O as S}from"./OrdersCard-f81b8c3d.js";import{_ as z}from"./Panel-66439d9b.js";import{_ as B}from"./Modal-37edfb16.js";import{_ as K}from"./PrimaryButton-2a66e53b.js";import{_ as U}from"./SecondaryButton-c43bd284.js";import{_ as x,a as v}from"./InputError-6149185c.js";import{_ as h}from"./InputLabel-a8ad6cb0.js";import"./NavLink-aa743517.js";import"./ResponsiveNavLink-2a2ef255.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Accordion-95e5d14e.js";import"./FlashMessage-dfc414e0.js";const E=e("h1",{class:"font-bold sm:font-extrabold text-indigo-900 leading-8 text-center text-xl md:text-4xl"}," Customizing Discounts Offers ",-1),H=e("p",{class:"justify-self-center text-center text-xs text-gray-500 p-4 border-b border-purple-500"},[e("span",{class:"font-bold"},"About: "),c("Add a discount code with its components such as rate for percent-off, days-active for number of days the code will remain active until it expires. All codes are active immediately they are created. ")],-1),P={class:"grid grid-cols-2"},T={class:"col-span-2 flex justify-between mx-6"},L=e("p",{class:"lg:text-indigo-900"},"%",-1),q={class:"mt-4 py-4 px-5"},G=e("h2",{class:"text-lg font-medium text-gray-900"}," Add a new Discount ",-1),J=e("p",{class:"mt-1 text-sm text-gray-600"}," Add a Discount code with percent off. ",-1),M={class:"mt-6"},Q={class:"mt-6"},R={class:"mt-6"},W={class:"mt-6 flex justify-end"},X={class:"p-3 lg:py-10 lg:px-8 m-2 md:grid md:grid-cols-3 lg:mx-8 lg:my-4"},Y=e("div",{class:"text-center underline col-span-3 lg:col-end-3"},[e("h3",{class:"font-semibold"},"All Discounts")],-1),Z={class:"md:col-span-2 lg:col-span-3 col-end-3 text-sm md:text-base space-y-6"},ee={class:"flex justify-between md:max-w-2/3 mx-auto border-b"},se={key:0,class:"text-green-500 text-xs"},te={key:1,class:"text-gray-500 text-xs"},oe={class:"flex flex-wrap space-x-8"},ae={class:"text-xs"},le={class:"text-xs"},ne={class:"p-2"},ce=["onClick","disabled"],ke={__name:"Discounts",props:{discounts:Object,errors:Object},setup(C){let u=i(!1);const y=i(null),m=i(null),_=i(null),s=A({code:"",rate:"",active:!0,days_active:""}),g=()=>{s.post(route("admin.discounts.add"),{preserveScroll:!0,onSuccess:()=>f(),onError:()=>y.value.focus()&&_.value.focus()&&m.value.focus(),onFinish:()=>s.reset()})},D=b=>{confirm("Are you sure?")&&s.delete(route("admin.discount",b))};function V(){u.value=!0,O(()=>nameInput.value.focus()&&_.value.focus()&&m.value.focus())}function f(){u.value=!1,s.reset()}return(b,n)=>(r(),d(w,null,[t(o($),{title:"Customizing Discounts Offers"}),t(F,null,{header:l(()=>[E,H]),default:l(()=>[t(S,null,{default:l(()=>[e("div",P,[e("div",T,[L,e("button",{class:"p-2 px-4 mr-12 bg-purple-200 text-slate-900 hover:underline border border-slate-700 rounded hover:bg-purple-300 hover:text-slate-800 active:bg-purple-400 active:ring-slate-900 transition ease-in-out hover:duration-500 active:duration-500",onClick:V},"Add New"),t(B,{show:o(u),onClose:f},{default:l(()=>[e("div",q,[G,J,e("div",M,[t(h,{for:"code"}),t(x,{id:"code",ref_key:"codeInput",ref:y,modelValue:o(s).code,"onUpdate:modelValue":n[0]||(n[0]=a=>o(s).code=a),type:"text",class:"mt-1 block w-3/4 text-sm",placeholder:"Discount Code"},null,8,["modelValue"]),t(v,{message:o(s).errors.code,class:"mt-2"},null,8,["message"])]),e("div",Q,[t(h,{for:"rate"}),t(x,{id:"rate",ref_key:"rateInput",ref:_,modelValue:o(s).rate,"onUpdate:modelValue":n[1]||(n[1]=a=>o(s).rate=a),type:"text",class:"mt-1 block w-3/4",placeholder:"Percent off eg 20 for 20% off. Don't include % symbol"},null,8,["modelValue"]),t(v,{message:o(s).errors.rate,class:"mt-2"},null,8,["message"])]),e("div",R,[t(h,{for:"days_active"}),t(x,{id:"days_active",ref_key:"daysInput",ref:m,modelValue:o(s).days_active,"onUpdate:modelValue":n[2]||(n[2]=a=>o(s).days_active=a),type:"text",class:"mt-1 block w-3/4",placeholder:"Days Active",onKeyup:I(g,["enter"])},null,8,["modelValue","onKeyup"]),t(v,{message:o(s).errors.days_active,class:"mt-2"},null,8,["message"])]),e("div",W,[t(U,{onClick:f},{default:l(()=>[c(" Cancel ")]),_:1}),t(K,{onClick:g,class:j(["ml-4",{"opacity-25":o(s).processing}]),disabled:o(s).processing},{default:l(()=>[c(" Add New ")]),_:1},8,["class","disabled"])])])]),_:1},8,["show"])]),t(z,{class:"col-span-2"},{default:l(()=>[e("div",null,[e("div",X,[Y,e("div",Z,[(r(!0),d(w,null,N(C.discounts,a=>(r(),d("div",ee,[e("div",null,[e("p",null,[c(p(a.code)+" : ",1),a.active===1?(r(),d("span",se,"Active")):k("",!0),a.active===0?(r(),d("span",te,"Inactive")):k("",!0)]),e("div",oe,[e("p",ae,[c("Days active: "),e("span",null,p(a.days_active),1)]),e("p",le,[c("Percent off: "),e("span",null,p(a.rate)+"%",1)])])]),e("div",ne,[e("button",{onClick:re=>D(a.id),disabled:o(s).processing,class:"text-red-400 hover:text-red-500 underline mx-2"},"Delete",8,ce)])]))),256))])])])]),_:1})])]),_:1})]),_:1})],64))}};export{ke as default};
