import{r as d,u as A,o as r,g as i,a as s,d as o,w as l,F as w,H as $,b as e,e as I,f as c,n as N,h as j,t as f,k,i as O}from"./app-7cfb65c9.js";import{_ as F}from"./BaseLayout-c4ca683b.js";import{O as S}from"./OrdersCard-1b29cb49.js";import{_ as z}from"./Panel-83fdf68d.js";import{_ as B}from"./Modal-21b05b72.js";import{_ as K}from"./PrimaryButton-3d24646e.js";import{_ as U}from"./SecondaryButton-7c1f2913.js";import{_ as x,a as v}from"./InputError-760d4d9c.js";import{_ as h}from"./InputLabel-98023fe9.js";import"./NavLink-c5717994.js";import"./ApplicationLogo-7b42fb0a.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Accordion-44f03c3c.js";import"./FooterGlobal-409d70a9.js";import"./FlashMessage-f45d1e5c.js";const E=e("h1",{class:"font-bold sm:font-extrabold text-indigo-900 leading-8 text-center text-xl md:text-4xl"}," Customizing Discounts Offers ",-1),H=e("p",{class:"justify-self-center text-center text-xs text-gray-500 p-4 border-b border-purple-500"},[e("span",{class:"font-bold"},"About: "),c("Add a discount code with its components such as rate for percent-off, days-active for number of days the code will remain active until it expires. All codes are active immediately they are created. ")],-1),P={class:"grid grid-cols-2"},T={class:"col-span-2 flex justify-between mx-6"},L=e("p",{class:"lg:text-indigo-900"},"%",-1),q={class:"mt-4 py-4 px-5"},G=e("h2",{class:"text-lg font-medium text-gray-900"}," Add a new Discount ",-1),J=e("p",{class:"mt-1 text-sm text-gray-600"}," Add a Discount code with percent off. ",-1),M={class:"mt-6"},Q={class:"mt-6"},R={class:"mt-6"},W={class:"mt-6 flex justify-end"},X={class:"p-3 lg:py-10 lg:px-8 m-2 md:grid md:grid-cols-3 lg:mx-8 lg:my-4"},Y=e("div",{class:"text-center underline col-span-3 lg:col-end-3"},[e("h3",{class:"font-semibold"},"All Discounts")],-1),Z={class:"md:col-span-2 lg:col-span-3 col-end-3 text-sm md:text-base space-y-6"},ee={class:"flex justify-between md:max-w-2/3 mx-auto border-b"},te={key:0,class:"text-green-500 text-xs"},se={key:1,class:"text-gray-500 text-xs"},oe={class:"flex flex-wrap space-x-8"},ae={class:"text-xs"},le={class:"text-xs"},ne={class:"p-2"},ce=["onClick","disabled"],Ce={__name:"Discounts",props:{discounts:Object,errors:Object},setup(C){let u=d(!1);const y=d(null),m=d(null),p=d(null),t=A({code:"",rate:"",active:!0,days_active:""}),g=()=>{t.post(route("admin.discounts.add"),{preserveScroll:!0,onSuccess:()=>_(),onError:()=>y.value.focus()&&p.value.focus()&&m.value.focus(),onFinish:()=>t.reset()})},D=b=>{confirm("Are you sure?")&&t.delete(route("admin.discount",b))};function V(){u.value=!0,O(()=>nameInput.value.focus()&&p.value.focus()&&m.value.focus())}function _(){u.value=!1,t.reset()}return(b,n)=>(r(),i(w,null,[s(o($),{title:"Customizing Discounts Offers"}),s(F,null,{header:l(()=>[E,H]),default:l(()=>[s(S,null,{default:l(()=>[e("div",P,[e("div",T,[L,e("button",{class:"p-2 px-4 mr-12 bg-purple-200 text-slate-900 hover:underline border border-slate-700 rounded hover:bg-purple-300 hover:text-slate-800 active:bg-purple-400 active:ring-slate-900 transition ease-in-out hover:duration-500 active:duration-500",onClick:V},"Add New"),s(B,{show:o(u),onClose:_},{default:l(()=>[e("div",q,[G,J,e("div",M,[s(h,{for:"code"}),s(x,{id:"code",ref_key:"codeInput",ref:y,modelValue:o(t).code,"onUpdate:modelValue":n[0]||(n[0]=a=>o(t).code=a),type:"text",class:"mt-1 block w-3/4 text-sm",placeholder:"Discount Code"},null,8,["modelValue"]),s(v,{message:o(t).errors.code,class:"mt-2"},null,8,["message"])]),e("div",Q,[s(h,{for:"rate"}),s(x,{id:"rate",ref_key:"rateInput",ref:p,modelValue:o(t).rate,"onUpdate:modelValue":n[1]||(n[1]=a=>o(t).rate=a),type:"text",class:"mt-1 block w-3/4",placeholder:"Percent off eg 20 for 20% off. Don't include % symbol"},null,8,["modelValue"]),s(v,{message:o(t).errors.rate,class:"mt-2"},null,8,["message"])]),e("div",R,[s(h,{for:"days_active"}),s(x,{id:"days_active",ref_key:"daysInput",ref:m,modelValue:o(t).days_active,"onUpdate:modelValue":n[2]||(n[2]=a=>o(t).days_active=a),type:"text",class:"mt-1 block w-3/4",placeholder:"Days Active",onKeyup:I(g,["enter"])},null,8,["modelValue","onKeyup"]),s(v,{message:o(t).errors.days_active,class:"mt-2"},null,8,["message"])]),e("div",W,[s(U,{onClick:_},{default:l(()=>[c(" Cancel ")]),_:1}),s(K,{onClick:g,class:N(["ml-4",{"opacity-25":o(t).processing}]),disabled:o(t).processing},{default:l(()=>[c(" Add New ")]),_:1},8,["class","disabled"])])])]),_:1},8,["show"])]),s(z,{class:"col-span-2"},{default:l(()=>[e("div",null,[e("div",X,[Y,e("div",Z,[(r(!0),i(w,null,j(C.discounts,a=>(r(),i("div",ee,[e("div",null,[e("p",null,[c(f(a.code)+" : ",1),a.active===1?(r(),i("span",te,"Active")):k("",!0),a.active===0?(r(),i("span",se,"Inactive")):k("",!0)]),e("div",oe,[e("p",ae,[c("Days active: "),e("span",null,f(a.days_active),1)]),e("p",le,[c("Percent off: "),e("span",null,f(a.rate)+"%",1)])])]),e("div",ne,[e("button",{onClick:re=>D(a.id),disabled:o(t).processing,class:"text-red-400 hover:text-red-500 underline mx-2"},"Delete",8,ce)])]))),256))])])])]),_:1})])]),_:1})]),_:1})],64))}};export{Ce as default};
