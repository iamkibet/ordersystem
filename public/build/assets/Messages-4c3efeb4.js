import{r as v,o as i,g as d,a,d as c,w as r,F as _,H as y,b as e,z as w,h as g,f as t,t as o,L as m,s as k,D as M,n as C}from"./app-7cfb65c9.js";import{_ as N}from"./ClientLayout-89c8cb02.js";import{O as T}from"./OrdersCard-1b29cb49.js";import{_ as $}from"./OrdersTitle-d433f634.js";import{_ as O}from"./Modal-21b05b72.js";import{_ as j}from"./PrimaryButton-3d24646e.js";import{_ as D}from"./SecondaryButton-7c1f2913.js";import{u as U}from"./useFornatedTime-bf881812.js";import"./NavLink-c5717994.js";import"./ApplicationLogo-7b42fb0a.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./FlashMessage-f45d1e5c.js";import"./FooterGlobal-409d70a9.js";const V={class:"bg-white text-gray-900 rounded"},A={class:"m-3 ml-4 p-4 lg:pt-6"},B={class:"p-3 lg:py-10 lg:px-8 m-2 md:grid md:grid-cols-3 lg:mx-8 lg:my-4"},F=e("div",{class:"text-center underline text-indigo-500 col-span-3"},[e("h3",null,"Messages")],-1),L={class:"md:col-span-2 lg:col-span-3 space-y-6"},S={class:"flex justify-between md:max-w-2/3 lg:w-full mx-auto border-b border-indigo-400 bg-purple-200 rounded-lg p-2 lg:px-6"},z={class:"text-slate-700 text-base font-serif"},H=e("strong",null,"to",-1),R={class:"text-blue-900 text-sm"},E={class:""},I=e("strong",null,"from",-1),q={class:"text-blue-600 text-sm"},G={class:"text-sm"},J={class:"text-gray-600"},K={class:"p-2"},P={class:"flex justify-between lg:w-full mx-auto border border-indigo-400 bg-purple-200 rounded-lg p-2 lg:px-6"},Q={class:"grid grid-cols-2 gap-4"},W={class:"text-gray-600"},X={class:"text-xs"},Y={class:"text-gray-600"},Z={class:"text-xs"},ee={class:"text-gray-600"},se={class:"p-2"},te={class:"mt-4 py-4 px-5 font-serif scroll-auto max-h-screen overflow-y-auto mb-10"},oe={class:"mx-12 my-3 bg-amber-50 px-10 py-6 rounded"},ae={class:"text-lg text-center font-bold text-gray-900"},le={key:0,class:"flex flex-col place-items-start m-2 py-2"},re={class:"bg-green-200 px-4 pb-3 rounded-xl max-w-xs"},ne={class:"text-lime-700 font-semibold underline text-end text-sm"},ie={class:"text-xs text-gray-700"},de=e("br",null,null,-1),ce={key:1,class:"flex flex-col place-items-end m-2 py-2"},me={class:"bg-indigo-200 px-2.5 pb-2 rounded-xl max-w-xs"},ue={class:"text-lime-700 font-semibold underline -mt-2.5 text-end text-sm"},pe={class:"text-xs text-gray-700"},_e=e("br",null,null,-1),ge={class:"m-6 py-4 px-8 mx-12 bg-fuchsia-300 rounded-lg pb-8"},fe=e("label",{for:"instructions",class:"block mb-2 text-sm font-semibold dark:text-white"}," New Message: ",-1),xe={class:"mt-6 flex justify-end"},De={__name:"Messages",props:{messages:Object,chats:Object,recipients:Array},setup(u){const f=u;let{formatTime:x}=U();const p=v(!1);function h(s){for(let n of f.recipients)return n.id===s?n.name:"User"}function b(){p.value=!1}return(s,n)=>(i(),d(_,null,[a(c(y),{title:"Messages"}),a(N,null,{header:r(()=>[a($,{title:"Order Messages",about:"Recent conversations."},null,8,["about"])]),default:r(()=>[e("section",null,[a(T,null,{default:r(()=>[e("section",V,[e("div",A,[e("button",{onClick:n[0]||(n[0]=w(l=>p.value=!0,["prevent"])),class:"mx-auto p-2 px-4 bg-lime-200 text-purple-900 hover:underline border border-slate-700 rounded hover:bg-lime-300 hover:text-purple-800 active:bg-slate-400 active:ring-purple-900 transition ease-in-out hover:duration-500 active:duration-500"}," New Chat ")]),e("div",null,[e("div",B,[F,e("div",L,[(i(!0),d(_,null,g(u.chats,l=>(i(),d("div",S,[e("div",z,[e("p",null,[H,t(": "),e("span",R,o(h(s.message.to)),1)]),e("p",E,[I,t(": "),e("span",q,"#"+o(s.message.user.name),1)]),e("p",G,[t(" sent: "),e("span",J,"#"+o(c(x)(s.message.created_at)),1)])]),e("div",K,[a(c(m),{href:"/",class:"text-sky-400 hover:text-sky-500 underline mx-2"},{default:r(()=>[t("view")]),_:1}),a(c(m),{href:"/",class:"text-red-400 hover:text-red-500 underline mx-2"},{default:r(()=>[t("Delete")]),_:1})])]))),256)),e("div",P,[e("div",Q,[e("p",null,[t(" from: "),e("span",W,o("message.sender.name"),1)]),e("p",X,[t(" to: "),e("span",Y,"#"+o("message.receiver.name"),1)]),e("p",Z,[t(" sent: "),e("span",ee,"#"+o("formatTime(message.created_at)"),1)])]),e("div",se,[a(c(m),{class:"text-sky-400 hover:text-sky-500 underline mx-2"},{default:r(()=>[t("view")]),_:1}),a(c(m),{class:"text-red-400 hover:text-red-500 underline mx-2"},{default:r(()=>[t("Delete")]),_:1})])])])])]),a(O,{show:p.value,onClose:b},{default:r(()=>[e("div",te,[e("div",oe,[e("h2",ae," Messages for Order #"+o(s.order.id)+" "+o(s.pageUser.id)+". ",1),(i(!0),d(_,null,g(u.messages,l=>(i(),d("div",null,[l.user_id!==s.pageUser.id?(i(),d("div",le,[e("p",re,[e("span",ne,[t(o("Admin")+" - "),e("span",ie,o(s.getTime(l.created_at)),1)]),de,t(" "+o(l.message),1)])])):(i(),d("div",ce,[e("p",me,[e("span",ue,[t(" Me ~ "),e("span",pe,o(s.getTime(l.created_at)),1)]),_e,t(" "+o(l.message),1)])]))]))),256))]),e("div",ge,[fe,k(e("textarea",{id:"message",name:"message",rows:"5",ref:"instructionsInput","onUpdate:modelValue":n[1]||(n[1]=l=>s.form.message=l),class:"block p-2.5 w-full text-sm md:text-md shadow-sm shadow-purple-300 bg-white rounded-lg border border-gray-200 focus:ring-blue-300 focus:border-blue-300 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},`
                        `,512),[[M,s.form.message]])]),e("div",xe,[a(D,{onClick:n[2]||(n[2]=l=>s.showMessage=!1)},{default:r(()=>[t(" Cancel ")]),_:1}),a(j,{onClick:s.sendMessage,class:C(["ml-4",{"opacity-25":s.form.processing}]),disabled:s.form.processing},{default:r(()=>[t(" Send Message ")]),_:1},8,["onClick","class","disabled"])])])]),_:1},8,["show"])])]),_:1})])]),_:1})],64))}};export{De as default};
