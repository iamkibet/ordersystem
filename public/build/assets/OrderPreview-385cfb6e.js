import{_ as A}from"./ClientLayout-65934df5.js";import{O as k}from"./OrdersCard-f81b8c3d.js";import{r as b,m as O,o as u,g as f,a as g,d as x,w as y,F as w,H as j,b as r,f as c,t as d,j as h,h as C,L as I}from"./app-b08cb953.js";import{u as N}from"./useFlash-691fd3c4.js";import"./NavLink-aa743517.js";import"./ResponsiveNavLink-2a2ef255.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./FlashMessage-dfc414e0.js";/*!
 * paypal-js v5.1.4 (2022-11-29T23:08:21.847Z)
 * Copyright 2020-present, PayPal, Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D(e,t){var n=document.querySelector('script[src="'.concat(e,'"]'));if(n===null)return null;var i=_(e,t),o=n.cloneNode();if(delete o.dataset.uidAuto,Object.keys(o.dataset).length!==Object.keys(i.dataset).length)return null;var s=!0;return Object.keys(o.dataset).forEach(function(l){o.dataset[l]!==i.dataset[l]&&(s=!1)}),s?n:null}function T(e){var t=e.url,n=e.attributes,i=e.onSuccess,o=e.onError,s=_(t,n);s.onerror=o,s.onload=i,document.head.insertBefore(s,document.head.firstElementChild)}function L(e){var t="https://www.paypal.com/sdk/js";e.sdkBaseURL&&(t=e.sdkBaseURL,delete e.sdkBaseURL),R(e);var n=Object.keys(e).filter(function(s){return typeof e[s]<"u"&&e[s]!==null&&e[s]!==""}).reduce(function(s,l){var a=e[l].toString();return l.substring(0,5)==="data-"?s.dataAttributes[l]=a:s.queryParams[l]=a,s},{queryParams:{},dataAttributes:{}}),i=n.queryParams,o=n.dataAttributes;return{url:"".concat(t,"?").concat(M(i)),dataAttributes:o}}function M(e){var t="";return Object.keys(e).forEach(function(n){t.length!==0&&(t+="&"),t+=n+"="+e[n]}),t}function B(e){var t=e.split("/* Original Error:")[1];return t?t.replace(/\n/g,"").replace("*/","").trim():e}function _(e,t){t===void 0&&(t={});var n=document.createElement("script");return n.src=e,Object.keys(t).forEach(function(i){n.setAttribute(i,t[i]),i==="data-csp-nonce"&&n.setAttribute("nonce",t["data-csp-nonce"])}),n}function R(e){var t=e["merchant-id"],n=e["data-merchant-id"],i="",o="";return Array.isArray(t)?t.length>1?(i="*",o=t.toString()):i=t.toString():typeof t=="string"&&t.length>0?i=t:typeof n=="string"&&n.length>0&&(i="*",o=n),e["merchant-id"]=i,e["data-merchant-id"]=o,e}function W(e,t){if(t===void 0&&(t=S()),E(e,t),typeof window>"u")return t.resolve(null);var n=L(e),i=n.url,o=n.dataAttributes,s=o["data-namespace"]||"paypal",l=v(s);return D(i,o)&&l?t.resolve(l):F({url:i,attributes:o},t).then(function(){var a=v(s);if(a)return a;throw new Error("The window.".concat(s," global variable is not available."))})}function F(e,t){t===void 0&&(t=S()),E(e,t);var n=e.url,i=e.attributes;if(typeof n!="string"||n.length===0)throw new Error("Invalid url.");if(typeof i<"u"&&typeof i!="object")throw new Error("Expected attributes to be an object.");return new t(function(o,s){if(typeof window>"u")return o();T({url:n,attributes:i,onSuccess:function(){return o()},onError:function(){var l=new Error('The script "'.concat(n,'" failed to load.'));return window.fetch?fetch(n).then(function(a){return a.status===200&&s(l),a.text()}).then(function(a){var m=B(a);s(new Error(m))}).catch(function(a){s(a)}):s(l)}})})}function S(){if(typeof Promise>"u")throw new Error("Promise is undefined. To resolve the issue, use a Promise polyfill.");return Promise}function v(e){return window[e]}function E(e,t){if(typeof e!="object"||e===null)throw new Error("Expected an options object.");if(typeof t<"u"&&typeof t!="function")throw new Error("Expected PromisePonyfill to be a function.")}const $=r("h1",{class:"text-center mt-6 text-xl font-extrabold font-serif text-purple-900 uppercase underline"}," Order Preview ",-1),U={class:"mt-5 grid md:grid-cols-3 rounded font-serif py-2 px-3"},q={class:"md:col-span-2 text-base"},H={class:"p-1.5 grid gap-2"},V=r("h3",{class:"text-md md:text-lg font-semibold lg:font-bold mb-3"}," Order Details ",-1),J={class:"flex flex-col space-y-2.5"},Y={class:"underline text-gray-700 font-sans"},z={class:"underline text-gray-700 font-sans"},G={class:"underline text-gray-700 font-sans"},X={class:"underline text-gray-700"},P={key:0,class:"underline md:text-sm text-red-400"},Q={key:1,class:"underline md:text-sm text-lime-800"},Z={class:"underline text-gray-700 font-sans"},K={class:"underline text-gray-700 font-sans"},ee={class:"underline text-gray-700 font-sans"},te={class:"border-b"},re={class:"ml-4 md:text-sm text-gray-600"},ne={class:"col-span-1 lg:col-span-1 ml-4 border-l"},se={class:"p-3 grid gap-3"},ae=r("h3",{class:"text-md md:text-lg font-semibold lg:font-bold mb-3"}," Administrative Details ",-1),oe={class:"flex flex-col space-y-2.5 text-sm text-gray-800 lg:px-5"},ie={class:"border-b"},ce={key:0,class:"ml-4 md:text-sm text-gray-600"},de={key:1,class:"ml-4 md:text-sm text-gray-600"},le={class:"border-b"},ue={class:"ml-4 md:text-sm text-gray-600"},fe={class:"border-b"},me={class:"ml-4 md:text-sm text-gray-600"},he={class:"border-b"},ge={key:0,class:"ml-4 font-semibold uppercase md:text-sm text-green-600"},pe={key:1,class:"ml-4 md:text-sm font-semibold uppercase text-red-600"},ye={class:"border-b"},be={class:"ml-4 md:text-sm text-gray-600"},xe={class:"border-b"},we={class:"ml-4 md:text-sm text-gray-600"},ve={key:0,class:"border-b"},_e={class:"md:text-sm text-gray-600"},Se={class:"underline text-green-600"},Ee={key:0,class:"col-span-1 lg:mt-3"},Ae=r("span",{class:"font-semibold lg:text-center"},"Files:",-1),ke={class:"flex flex-col"},Oe={key:1,class:"col-span-2 mt-3 lg: mt-7"},je=r("p",{class:"text-red-300 text-xs"},"* Complete payment for the expert to start working on your order.",-1),Ce={class:"p-6 lg:mx-12 text-white rounded-lg flex flex-col space-x-3"},Ie={class:"text-slate-900 mg:text-lg bg-blue-400 px-6 mb-4 py-2 uppercase font-bold mx-auto rounded-md"},Ne=r("br",null,null,-1),De={class:"font-serif text-green-900 underline ml-4"},Te=r("div",{id:"paypal-button-container"},null,-1),Le={class:"mt-6 col-span-2"},Me={class:"rounded bg-white text-black min-w-2/3 m-2 md:mx-5 p-3 px-6"},Be=r("div",{class:"flex justify-between"},[r("h3",{class:"text-lg font-bold"}," Order Instructions ")],-1),Re=r("hr",{class:"border-1 w-full mx-auto border-blue-900 mb-4"},null,-1),We={class:"text-md text-gray-700 font-semibold mr-4 border-b border-gray-200"},Fe={class:"text-gray-500 font-medium"},$e={class:"my-6 text-justify leading-tight decoration-1 whitespace-pre-wrap"},Xe={__name:"OrderPreview",props:{order:Object,level:String,spacing:String,subject:String,service:String,style:String,discount:String,language:String,writerCategory:String,user:String,writer:String,files:Array,deadline:String,imageUrl:String,currencySymbol:String,currency:String,discountAmount:Number},setup(e){const t=e,{flash:n}=N();b(t.order),b(!1);function i(){console.log("Running paid() function to redirect to recent orders");const o=Object.assign(document.createElement("a"),{href:`${route("orders.recents")}`,style:"display: none"});document.body.appendChild(o),o.click()}return O(async()=>{try{await(await W({"client-id":"AXByLC0wuw6fznWnZABRuNWsYOAlGx_JVw2dJzRSntIaSRL7V0D-hk7SiH3tMNtHWNrtcxEl38xlMXik",currency:t.currency??"USD"})).Buttons({createOrder:(s,l)=>fetch(route("paypal.pay",t.order.id),{method:"post"}).then(function(a){return a.json()}).then(function(a){return a.id}),onApprove:(s,l)=>fetch(route("paypal.capture",t.order.id),{method:"post",body:JSON.stringify({orderId:s.orderID,payerId:s.payerID,facilitatorAccessToken:s.facilitatorAccessToken})}).then(function(a){return a.json()}).then(function(a){const m=document.getElementById("paypal-button-container");m.innerHTML="",m.innerHTML="<p>Thank you for your payment!</p>",i()}),onCancel:(s,l)=>fetch(route("paypal.capture",t.order.id),{method:"post",body:JSON.stringify({orderId:s.orderID})}).then(function(a){return a.json()}).then(function(a){let m=Array.isArray(a.details)&&a.details[0];if(m&&m.issue==="INSTRUMENT_DECLINED")return n("Critical Error!","Payment Instrument Declined! Try Again.","error"),l.restart();let p="Sorry, your transaction could not be processed.";m&&(m.description&&(p+=`

`+m.description),a.debug_id&&(p+=" ("+a.debug_id+")"),n("Fatal Error!",`${p}`,"error")),n("Fatal Error!",`Order was Cancelled (Status: ${a.error.name})! 
 Error Message: ${a.error.message}.
 TRY AGAIN!`,"error")}),onError:s=>{}}).render("#paypal-button-container")}catch{n("Fatal Error!","Server was unable to initiate payment. Contact support team or try again later.","error")}}),(o,s)=>(u(),f(w,null,[g(x(j),{title:`Order #${e.order.id} Preview - ${o.$page.props.websiteName}`},null,8,["title"]),g(A,null,{default:y(()=>[g(k,null,{default:y(()=>[$,r("section",U,[r("div",q,[r("div",H,[V,r("div",J,[r("p",null,[c("A "),r("span",Y,d(e.order.pages),1),c(" Page(s) "),r("span",z,d(e.level),1),c(" level "),r("span",G,d(e.service),1),c(" task/assignment in "),r("span",X,d(e.subject),1),c(" Subject/Discipline. ")]),r("p",null,[c(" Due "),e.deadline.endsWith("ago")?(u(),f("span",P,d(e.deadline),1)):h("",!0),e.deadline.endsWith("now")?(u(),f("span",Q,d(e.deadline),1)):h("",!0),c(". ")]),r("p",null,[c(" Written in "),r("span",Z,d(e.style),1),c(" and "),r("span",K,d(e.spacing),1),c(" line spacing with "),r("span",ee,d(e.order.sources),1),c(" sources/references. ")]),r("p",te,[c("Language: "),r("span",re,d(e.language),1)])])])]),r("div",ne,[r("div",se,[ae,r("div",oe,[r("p",ie,[c("Assigned to: "),e.writer?(u(),f("span",ce,d(e.writer),1)):(u(),f("span",de,"Expert Writer"))]),r("p",le,[c("Expert Level: "),r("span",ue,d(e.writerCategory),1)]),r("p",fe,[c("Belongs to: "),r("span",me,d(e.user),1)]),r("p",he,[c("Paid: "),e.order.paid===1?(u(),f("span",ge," Yes ")):(u(),f("span",pe," No "))]),r("p",ye,[c("Amount: "),r("span",be,d(e.currencySymbol)+" "+d(e.order.amount),1)]),r("p",xe,[c("Status: "),r("span",we,d(e.order.status),1)]),e.discount?(u(),f("p",ve,[c("Discount/Coupon: "),r("span",_e,'"'+d(e.discount)+'" ',1),c(" = "),r("span",Se,d(e.discountAmount)+"% OFF",1)])):h("",!0)])])]),e.files.length>0?(u(),f("div",Ee,[Ae,(u(!0),f(w,null,C(e.files,l=>(u(),f("div",ke,[g(x(I),{class:"ml-2 underline text-blue-900 p-2 border-b border-gray-200",onClick:s[0]||(s[0]=a=>o.alert("You cannot download at preview!!"))},{default:y(()=>[c(d(l.name),1)]),_:2},1024)]))),256))])):h("",!0),e.order.paid==0?(u(),f("div",Oe,[je,r("div",Ce,[r("p",Ie,[c(" Continue to Checkout "),Ne,c(" Total Due: "),r("span",De,d(e.currencySymbol)+" "+d(e.order.amount),1)]),Te])])):h("",!0),r("div",Le,[r("div",Me,[Be,Re,r("h3",We,[c("Order title: "),r("span",Fe,d(e.order.title),1)]),r("p",$e,d(e.order.instructions),1)])])])]),_:1})]),_:1})],64))}};export{Xe as default};
