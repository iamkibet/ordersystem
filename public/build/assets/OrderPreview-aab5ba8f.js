import{_ as S}from"./ClientLayout-89c8cb02.js";import{O as E}from"./OrdersCard-1b29cb49.js";import{r as y,m as A,o as m,g as f,a as p,d as O,w as b,F as k,H as I,b as r,t as c,f as d,k as h,n as N}from"./app-7cfb65c9.js";import{u as j}from"./useFlash-0de93865.js";import"./NavLink-c5717994.js";import"./ApplicationLogo-7b42fb0a.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./FlashMessage-f45d1e5c.js";import"./FooterGlobal-409d70a9.js";/*!
 * paypal-js v5.1.4 (2022-11-29T23:08:21.847Z)
 * Copyright 2020-present, PayPal, Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C(e,t){var n=document.querySelector('script[src="'.concat(e,'"]'));if(n===null)return null;var i=w(e,t),o=n.cloneNode();if(delete o.dataset.uidAuto,Object.keys(o.dataset).length!==Object.keys(i.dataset).length)return null;var s=!0;return Object.keys(o.dataset).forEach(function(l){o.dataset[l]!==i.dataset[l]&&(s=!1)}),s?n:null}function D(e){var t=e.url,n=e.attributes,i=e.onSuccess,o=e.onError,s=w(t,n);s.onerror=o,s.onload=i,document.head.insertBefore(s,document.head.firstElementChild)}function T(e){var t="https://www.paypal.com/sdk/js";e.sdkBaseURL&&(t=e.sdkBaseURL,delete e.sdkBaseURL),L(e);var n=Object.keys(e).filter(function(s){return typeof e[s]<"u"&&e[s]!==null&&e[s]!==""}).reduce(function(s,l){var a=e[l].toString();return l.substring(0,5)==="data-"?s.dataAttributes[l]=a:s.queryParams[l]=a,s},{queryParams:{},dataAttributes:{}}),i=n.queryParams,o=n.dataAttributes;return{url:"".concat(t,"?").concat(M(i)),dataAttributes:o}}function M(e){var t="";return Object.keys(e).forEach(function(n){t.length!==0&&(t+="&"),t+=n+"="+e[n]}),t}function B(e){var t=e.split("/* Original Error:")[1];return t?t.replace(/\n/g,"").replace("*/","").trim():e}function w(e,t){t===void 0&&(t={});var n=document.createElement("script");return n.src=e,Object.keys(t).forEach(function(i){n.setAttribute(i,t[i]),i==="data-csp-nonce"&&n.setAttribute("nonce",t["data-csp-nonce"])}),n}function L(e){var t=e["merchant-id"],n=e["data-merchant-id"],i="",o="";return Array.isArray(t)?t.length>1?(i="*",o=t.toString()):i=t.toString():typeof t=="string"&&t.length>0?i=t:typeof n=="string"&&n.length>0&&(i="*",o=n),e["merchant-id"]=i,e["data-merchant-id"]=o,e}function R(e,t){if(t===void 0&&(t=v()),_(e,t),typeof window>"u")return t.resolve(null);var n=T(e),i=n.url,o=n.dataAttributes,s=o["data-namespace"]||"paypal",l=x(s);return C(i,o)&&l?t.resolve(l):W({url:i,attributes:o},t).then(function(){var a=x(s);if(a)return a;throw new Error("The window.".concat(s," global variable is not available."))})}function W(e,t){t===void 0&&(t=v()),_(e,t);var n=e.url,i=e.attributes;if(typeof n!="string"||n.length===0)throw new Error("Invalid url.");if(typeof i<"u"&&typeof i!="object")throw new Error("Expected attributes to be an object.");return new t(function(o,s){if(typeof window>"u")return o();D({url:n,attributes:i,onSuccess:function(){return o()},onError:function(){var l=new Error('The script "'.concat(n,'" failed to load.'));return window.fetch?fetch(n).then(function(a){return a.status===200&&s(l),a.text()}).then(function(a){var u=B(a);s(new Error(u))}).catch(function(a){s(a)}):s(l)}})})}function v(){if(typeof Promise>"u")throw new Error("Promise is undefined. To resolve the issue, use a Promise polyfill.");return Promise}function x(e){return window[e]}function _(e,t){if(typeof e!="object"||e===null)throw new Error("Expected an options object.");if(typeof t<"u"&&typeof t!="function")throw new Error("Expected PromisePonyfill to be a function.")}const F={class:"text-xl font-bold text-purple-900 uppercase underline"},$={class:"grid md:grid-cols-3 rounded py-2 px-3"},U={class:"md:col-span-3 pb-6 text-base"},q={class:"p-1.5 grid gap-2"},H=r("h3",{class:"md:text-lg font-semibold lg:font-bold mb-3"}," Order Summary ",-1),V={class:"flex flex-col space-y-2.5 text-sm"},J={class:"underline text-gray-700"},z={class:"underline text-gray-700"},Y={class:"underline text-gray-700"},G={class:"underline text-gray-700"},X={key:0,class:"underline md:text-sm text-red-400"},P={key:1,class:"underline md:text-sm text-lime-800"},Q={class:"underline text-gray-700 font-sans"},Z={class:"underline text-gray-700 font-sans"},K={class:"underline text-gray-700 font-sans"},ee={class:"border-b"},te={class:"ml-4 md:text-sm text-gray-600"},re={class:"md:col-span-1"},ne={class:"p-3 grid gap-3"},se=r("h3",{class:"text-md md:text-lg font-semibold lg:font-bold mb-3"}," Administrative Details ",-1),ae={class:"flex flex-col space-y-2.5 text-sm text-gray-800"},oe={class:"border-b"},ie={key:0,class:"ml-4 md:text-sm text-gray-600"},ce={key:1,class:"ml-4 md:text-sm text-gray-600"},de={class:"border-b"},le={class:"ml-4 md:text-sm text-gray-600"},ue={class:"border-b"},me={class:"ml-4 md:text-sm text-gray-600"},fe={class:"border-b"},he={key:0,class:"ml-4 font-semibold uppercase md:text-sm text-green-600"},ge={key:1,class:"ml-4 md:text-sm font-semibold uppercase text-red-600"},pe={class:"border-b"},ye={class:"border-b"},be={class:"ml-4 md:text-sm text-gray-600"},xe={key:0,class:"border-b"},we={class:"text-gray-600 text-xs"},ve={class:"underline text-green-600 text-xs"},_e={key:0,class:"md:col-span-2 mt-3 lg:pt-7"},Se=r("p",{class:"text-red-500 text-xs lg:text-sm"},"* Complete payment for the expert to start working on your order.",-1),Ee={class:"py-6 text-white rounded-lg flex flex-col space-x-3"},Ae={class:"text-sky-500 mg:text-lg border-2 border-green-400 px-6 mb-4 m-2 py-2 font-bold rounded-md"},Oe={class:"underline ml-4"},ke=r("div",{id:"paypal-button-container"},null,-1),Ie={class:"mt-6 md:col-span-3"},Ne={class:"min-w-2/3 m-2 p-3 px-6"},je=r("h3",{class:"text-lg font-bold"}," Order Instructions ",-1),Ce=r("hr",{class:"border-1 w-full mx-auto border-blue-900 mb-4"},null,-1),De={class:"text-md text-gray-700 font-semibold mr-4 border-b border-gray-200"},Te={class:"text-gray-500 font-medium"},Me={class:"my-6 text-justify leading-tight decoration-1 whitespace-pre-wrap"},Ve={__name:"OrderPreview",props:{order:Object,level:String,spacing:String,subject:String,service:String,style:String,discount:String,language:String,writerCategory:String,user:String,writer:String,files:Array,deadline:String,imageUrl:String,currencySymbol:String,currency:String,discountAmount:Number},setup(e){const t=e,{flash:n}=j();y(t.order),y(!1);function i(){console.log("Running paid() function to redirect to recent orders");const o=Object.assign(document.createElement("a"),{href:`${route("orders.recents")}`,style:"display: none"});document.body.appendChild(o),o.click()}return A(async()=>{try{await(await R({"client-id":"AXByLC0wuw6fznWnZABRuNWsYOAlGx_JVw2dJzRSntIaSRL7V0D-hk7SiH3tMNtHWNrtcxEl38xlMXik",currency:t.currency??"USD"})).Buttons({createOrder:(s,l)=>fetch(route("paypal.pay",t.order.id),{method:"post"}).then(function(a){return a.json()}).then(function(a){return a.id}),onApprove:(s,l)=>fetch(route("paypal.capture",t.order.id),{method:"post",body:JSON.stringify({orderId:s.orderID,payerId:s.payerID,facilitatorAccessToken:s.facilitatorAccessToken})}).then(function(a){return a.json()}).then(function(a){const u=document.getElementById("paypal-button-container");u.innerHTML="",u.innerHTML="<p>Thank you for your payment!</p>",i()}),onCancel:(s,l)=>fetch(route("paypal.capture",t.order.id),{method:"post",body:JSON.stringify({orderId:s.orderID})}).then(function(a){return a.json()}).then(function(a){let u=Array.isArray(a.details)&&a.details[0];if(u&&u.issue==="INSTRUMENT_DECLINED")return n("Critical Error!","Payment Instrument Declined! Try Again.","error"),l.restart();let g="Sorry, your transaction could not be processed.";u&&(u.description&&(g+=`

`+u.description),a.debug_id&&(g+=" ("+a.debug_id+")"),n("Fatal Error!",`${g}`,"error")),n("Fatal Error!",`Order was Cancelled (Status: ${a.error.name})! 
 Error Message: ${a.error.message}.
 TRY AGAIN!`,"error")}),onError:s=>{}}).render("#paypal-button-container")}catch{n("Fatal Error!","Server was unable to initiate payment. Contact support team or try again later.","error")}}),(o,s)=>(m(),f(k,null,[p(O(I),{title:`Order #${e.order.id} Preview - ${o.$page.props.websiteName}`},null,8,["title"]),p(S,null,{default:b(()=>[p(E,null,{default:b(()=>[r("h1",F," Order #"+c(e.order.id)+" Preview ",1),r("section",$,[r("div",U,[r("div",q,[H,r("div",V,[r("p",null,[d("A "),r("span",J,c(e.order.pages),1),d(" Page(s) "),r("span",z,c(e.level),1),d(" level "),r("span",Y,c(e.service),1),d(" task/assignment in "),r("span",G,c(e.subject),1),d(" Subject/Discipline. ")]),r("p",null,[d(" Due "),e.deadline.endsWith("ago")?(m(),f("span",X,c(e.deadline),1)):h("",!0),e.deadline.endsWith("now")?(m(),f("span",P,c(e.deadline),1)):h("",!0),d(". ")]),r("p",null,[d(" Written in "),r("span",Q,c(e.style),1),d(" and "),r("span",Z,c(e.spacing),1),d(" line spacing with "),r("span",K,c(e.order.sources),1),d(" sources/references. ")]),r("p",ee,[d("Language: "),r("span",te,c(e.language),1)])])])]),r("div",re,[r("div",ne,[se,r("div",ae,[r("p",oe,[d("Assigned to: "),e.writer?(m(),f("span",ie,c(e.writer),1)):(m(),f("span",ce,"Expert Writer"))]),r("p",de,[d("Expert Level: "),r("span",le,c(e.writerCategory),1)]),r("p",ue,[d("Belongs to: "),r("span",me,c(e.user),1)]),r("p",fe,[d("Paid: "),e.order.paid===1?(m(),f("span",he," Yes ")):(m(),f("span",ge," No "))]),r("p",pe,[d("Amount: "),r("span",{class:N(["ml-4 md:text-sm",e.order.paid===1?"text-gray-600":"text-red-500"])},c(e.currencySymbol)+" "+c(e.order.amount),3)]),r("p",ye,[d("Status: "),r("span",be,c(e.order.status),1)]),e.discount?(m(),f("p",xe,[d("Coupon: "),r("span",we,'"'+c(e.discount)+'" ',1),d(" = "),r("span",ve,c(e.discountAmount)+"% OFF",1)])):h("",!0)])])]),e.order.paid==0?(m(),f("div",_e,[Se,r("div",Ee,[r("p",Ae,[d(" Total Due: "),r("span",Oe,c(e.currencySymbol)+" "+c(e.order.amount),1)]),ke])])):h("",!0),r("div",Ie,[r("div",Ne,[je,Ce,r("h3",De,[d("Order title: "),r("span",Te,c(e.order.title),1)]),r("p",Me,c(e.order.instructions),1)])])])]),_:1})]),_:1})],64))}};export{Ve as default};
